<form action="/search" method="GET">
  <select type="submit" class=" form-select" id="categorySearch" name="categoryId" onchange="this.form.submit()">
    <option value="">類別</option>
    <option value="1">家居物業</option>
    <option value="2">交通出行</option>
    <option value="3">休閒娛樂</option>
    <option value="4">餐飲食品</option>
    <option value="5">其他</option>
  </select>
</form>
<br>
<div class="row justify-content-center">
  <div class="col-3">
    <h1>總金額: {{totalAmount}}</h1>
  </div>
</div>
<ul class="list-group">
  {{#each records}}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    {{!-- 支出 --}}
    <div class="d-flex justify-content-between align-items-center flex-grow-1 ms-3 me-5">
      {{!-- 名稱 --}}
      <div class="d-flex justify-content-start align-items-center">
        <div>
          <span style="color: #72a4d4">
            <i class="fa-solid {{getIcon this.categoryId}}  fa-2xl"></i>
          </span>
        </div>
        <div class="px-3 ">
          <h5>{{this.name}}</h5>
          <span class="fs-6 fw-lighter">{{dateTransform this.date}}</span>
        </div>
      </div>
      {{!-- 金額 --}}
      <div>
        <span>{{this.amount}}</span>
      </div>
    </div>
    {{!-- 按鈕 --}}
    <div class="ms-5 d-flex ">
      <a class="btn btn-success" href="./records/{{ this._id }}/edit">編輯</a>
      <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;" class="mx-3">
        <button class="btn btn-danger" type="submit">刪除</button>
      </form>
    </div>
  </li>
  {{/each}}
</ul>
<br>
<div class="text-center">
  <a href="/records/new" class="btn btn-primary mb-3">新增支出</a>
</div>